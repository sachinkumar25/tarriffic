"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/summary/[hs4]";
exports.ids = ["pages/api/summary/[hs4]"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "papaparse":
/*!****************************!*\
  !*** external "papaparse" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("papaparse");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsummary%2F%5Bhs4%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsummary%2F%5Bhs4%5D.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsummary%2F%5Bhs4%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsummary%2F%5Bhs4%5D.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_summary_hs4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/summary/[hs4].js */ \"(api)/./pages/api/summary/[hs4].js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_summary_hs4_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_summary_hs4_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/summary/[hs4]\",\n        pathname: \"/api/summary/[hs4]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_summary_hs4_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN1bW1hcnklMkYlNUJoczQlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnN1bW1hcnklMkYlNUJoczQlNUQuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDeUQ7QUFDekQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHNEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxzREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXJpZmYtaW5zaWdodHMvP2NhNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9zdW1tYXJ5L1toczRdLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3VtbWFyeS9baHM0XVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N1bW1hcnkvW2hzNF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsummary%2F%5Bhs4%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsummary%2F%5Bhs4%5D.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/csvLoader.js":
/*!**************************!*\
  !*** ./lib/csvLoader.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateTariffRevenue: () => (/* binding */ calculateTariffRevenue),\n/* harmony export */   formatTariffRate: () => (/* binding */ formatTariffRate),\n/* harmony export */   formatTradeValue: () => (/* binding */ formatTradeValue),\n/* harmony export */   getHS4Category: () => (/* binding */ getHS4Category),\n/* harmony export */   getSummaryFilename: () => (/* binding */ getSummaryFilename),\n/* harmony export */   loadCSV: () => (/* binding */ loadCSV),\n/* harmony export */   loadJSON: () => (/* binding */ loadJSON),\n/* harmony export */   validateHS4: () => (/* binding */ validateHS4)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! papaparse */ \"papaparse\");\n/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_2__);\n/**\n * CSV Loader Utility\n * Shared functions for parsing CSV files and loading JSON data\n */ \n\n\n/**\n * Get the absolute path to the data/processed directory\n */ function getDataPath() {\n    return path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data-curator\", \"data\", \"processed\");\n}\n/**\n * Check if expanded dataset exists and is newer than merged dataset\n * @returns {string} Filename to use ('expanded_summary.csv' or 'merged_summary.csv')\n */ function getSummaryFilename() {\n    const dataPath = getDataPath();\n    const expandedFile = path__WEBPACK_IMPORTED_MODULE_1___default().join(dataPath, \"expanded_summary.csv\");\n    const mergedFile = path__WEBPACK_IMPORTED_MODULE_1___default().join(dataPath, \"merged_summary.csv\");\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(expandedFile)) {\n        return \"expanded_summary.csv\";\n    } else if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(mergedFile)) {\n        return \"merged_summary.csv\";\n    } else {\n        throw new Error(\"No summary dataset found. Please run the data expansion script.\");\n    }\n}\n/**\n * Parse CSV file and return as JSON array\n * @param {string} filename - CSV filename in data/processed directory\n * @returns {Promise<Array>} Parsed CSV data as JSON array\n */ async function loadCSV(filename) {\n    try {\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(getDataPath(), filename);\n        // Check if file exists\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            throw new Error(`File not found: ${filename}`);\n        }\n        // Read file content\n        const fileContent = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        // Parse CSV\n        const result = (0,papaparse__WEBPACK_IMPORTED_MODULE_2__.parse)(fileContent, {\n            header: true,\n            skipEmptyLines: true,\n            transformHeader: (header)=>header.trim(),\n            transform: (value, field)=>{\n                // Convert numeric strings to numbers where appropriate\n                if (value === \"\") return null;\n                // Keep HS4 codes as strings\n                if (field === \"hs4\") {\n                    return value.toString();\n                }\n                // Convert other numeric fields to numbers\n                if (!isNaN(value) && value !== \"\") {\n                    return parseFloat(value);\n                }\n                return value;\n            }\n        });\n        if (result.errors.length > 0) {\n            console.warn(`CSV parsing warnings for ${filename}:`, result.errors);\n        }\n        return result.data;\n    } catch (error) {\n        console.error(`Error loading CSV ${filename}:`, error);\n        throw error;\n    }\n}\n/**\n * Load JSON file and return parsed data\n * @param {string} filename - JSON filename in data/processed directory\n * @returns {Promise<Object>} Parsed JSON data\n */ async function loadJSON(filename) {\n    try {\n        const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(getDataPath(), filename);\n        // Check if file exists\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            throw new Error(`File not found: ${filename}`);\n        }\n        // Read and parse JSON\n        const fileContent = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf8\");\n        return JSON.parse(fileContent);\n    } catch (error) {\n        console.error(`Error loading JSON ${filename}:`, error);\n        throw error;\n    }\n}\n/**\n * Validate HS4 code format (4 digits)\n * @param {string} hs4 - HS4 code to validate\n * @returns {boolean} True if valid HS4 format\n */ function validateHS4(hs4) {\n    if (!hs4 || typeof hs4 !== \"string\") {\n        return false;\n    }\n    // Check if it's exactly 4 digits\n    const hs4Regex = /^\\d{4}$/;\n    return hs4Regex.test(hs4);\n}\n/**\n * Calculate tariff revenue estimate\n * @param {number} tariffRate - Tariff rate as percentage\n * @param {number} tradeValue - Trade value in USD\n * @returns {number} Estimated tariff revenue in USD\n */ function calculateTariffRevenue(tariffRate, tradeValue) {\n    if (!tariffRate || !tradeValue || tariffRate < 0 || tradeValue < 0) {\n        return 0;\n    }\n    return tariffRate / 100 * tradeValue;\n}\n/**\n * Format trade value for display\n * @param {number} value - Trade value in USD\n * @returns {string} Formatted value (e.g., \"1.2B\", \"500M\")\n */ function formatTradeValue(value) {\n    if (!value || value < 0) return \"$0\";\n    if (value >= 1e12) {\n        return `$${(value / 1e12).toFixed(1)}T`;\n    } else if (value >= 1e9) {\n        return `$${(value / 1e9).toFixed(1)}B`;\n    } else if (value >= 1e6) {\n        return `$${(value / 1e6).toFixed(1)}M`;\n    } else if (value >= 1e3) {\n        return `$${(value / 1e3).toFixed(1)}K`;\n    } else {\n        return `$${value.toFixed(0)}`;\n    }\n}\n/**\n * Format tariff rate for display\n * @param {number} rate - Tariff rate as percentage\n * @returns {string} Formatted rate (e.g., \"5.2%\")\n */ function formatTariffRate(rate) {\n    if (!rate || rate < 0) return \"0%\";\n    return `${rate.toFixed(2)}%`;\n}\n/**\n * Get HS4 category description from 2-digit prefix\n * @param {string} hs4 - 4-digit HS4 code\n * @returns {string} Category description\n */ function getHS4Category(hs4) {\n    if (!hs4 || hs4.length < 2) return \"Unknown\";\n    const prefix = hs4.substring(0, 2);\n    const categoryMap = {\n        \"01\": \"Live animals & animal products\",\n        \"02\": \"Meat and edible meat offal\",\n        \"03\": \"Fish and crustaceans\",\n        \"04\": \"Dairy products\",\n        \"05\": \"Products of animal origin\",\n        \"06\": \"Live trees and plants\",\n        \"07\": \"Edible vegetables\",\n        \"08\": \"Edible fruits and nuts\",\n        \"09\": \"Coffee, tea, mate and spices\",\n        \"10\": \"Cereals\",\n        \"11\": \"Products of the milling industry\",\n        \"12\": \"Oil seeds and oleaginous fruits\",\n        \"13\": \"Lac; gums, resins and other vegetable saps\",\n        \"14\": \"Vegetable plaiting materials\",\n        \"15\": \"Animal or vegetable fats and oils\",\n        \"16\": \"Preparations of meat, fish or crustaceans\",\n        \"17\": \"Sugars and sugar confectionery\",\n        \"18\": \"Cocoa and cocoa preparations\",\n        \"19\": \"Preparations of cereals, flour, starch or milk\",\n        \"20\": \"Preparations of vegetables, fruit, nuts\",\n        \"21\": \"Miscellaneous edible preparations\",\n        \"22\": \"Beverages, spirits and vinegar\",\n        \"23\": \"Residues and wastes from the food industries\",\n        \"24\": \"Tobacco and manufactured tobacco substitutes\",\n        \"25\": \"Salt; sulphur; earths and stone\",\n        \"26\": \"Ores, slag and ash\",\n        \"27\": \"Mineral fuels, mineral oils\",\n        \"28\": \"Inorganic chemicals\",\n        \"29\": \"Organic chemicals\",\n        \"30\": \"Pharmaceutical products\",\n        \"31\": \"Fertilisers\",\n        \"32\": \"Tanning or dyeing extracts\",\n        \"33\": \"Essential oils and resinoids\",\n        \"34\": \"Soap, organic surface-active agents\",\n        \"35\": \"Albuminoidal substances\",\n        \"36\": \"Explosives; pyrotechnic products\",\n        \"37\": \"Photographic or cinematographic goods\",\n        \"38\": \"Miscellaneous chemical products\",\n        \"39\": \"Plastics and articles thereof\",\n        \"40\": \"Rubber and articles thereof\",\n        \"41\": \"Raw hides and skins\",\n        \"42\": \"Articles of leather\",\n        \"43\": \"Furskins and artificial fur\",\n        \"44\": \"Wood and articles of wood\",\n        \"45\": \"Cork and articles of cork\",\n        \"46\": \"Manufactures of straw\",\n        \"47\": \"Pulp of wood or of other fibrous cellulosic material\",\n        \"48\": \"Paper and paperboard\",\n        \"49\": \"Printed books, newspapers, pictures\",\n        \"50\": \"Silk\",\n        \"51\": \"Wool, fine or coarse animal hair\",\n        \"52\": \"Cotton\",\n        \"53\": \"Other vegetable textile fibres\",\n        \"54\": \"Man-made filaments\",\n        \"55\": \"Man-made staple fibres\",\n        \"56\": \"Wadding, felt and nonwovens\",\n        \"57\": \"Carpets and other textile floor coverings\",\n        \"58\": \"Special woven fabrics\",\n        \"59\": \"Impregnated, coated, covered or laminated textile fabrics\",\n        \"60\": \"Knitted or crocheted fabrics\",\n        \"61\": \"Articles of apparel and clothing accessories\",\n        \"62\": \"Articles of apparel and clothing accessories\",\n        \"63\": \"Other made up textile articles\",\n        \"64\": \"Footwear, gaiters and the like\",\n        \"65\": \"Headgear and parts thereof\",\n        \"66\": \"Umbrellas, sun umbrellas, walking sticks\",\n        \"67\": \"Prepared feathers and down\",\n        \"68\": \"Articles of stone, plaster, cement, asbestos\",\n        \"69\": \"Ceramic products\",\n        \"70\": \"Glass and glassware\",\n        \"71\": \"Natural or cultured pearls, precious stones\",\n        \"72\": \"Iron and steel\",\n        \"73\": \"Articles of iron or steel\",\n        \"74\": \"Copper and articles thereof\",\n        \"75\": \"Nickel and articles thereof\",\n        \"76\": \"Aluminium and articles thereof\",\n        \"78\": \"Lead and articles thereof\",\n        \"79\": \"Zinc and articles thereof\",\n        \"80\": \"Tin and articles thereof\",\n        \"81\": \"Other base metals\",\n        \"82\": \"Tools, implements, cutlery, spoons and forks\",\n        \"83\": \"Miscellaneous articles of base metal\",\n        \"84\": \"Nuclear reactors, boilers, machinery\",\n        \"85\": \"Electrical machinery and equipment\",\n        \"86\": \"Railway or tramway locomotives\",\n        \"87\": \"Vehicles other than railway or tramway rolling stock\",\n        \"88\": \"Aircraft, spacecraft, and parts thereof\",\n        \"89\": \"Ships, boats and floating structures\",\n        \"90\": \"Optical, photographic, cinematographic, measuring\",\n        \"91\": \"Clocks and watches and parts thereof\",\n        \"92\": \"Musical instruments\",\n        \"93\": \"Arms and ammunition\",\n        \"94\": \"Furniture; bedding, mattresses\",\n        \"95\": \"Toys, games and sports requisites\",\n        \"96\": \"Miscellaneous manufactured articles\",\n        \"97\": \"Works of art, collectors' pieces and antiques\"\n    };\n    return categoryMap[prefix] || \"Other products\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY3N2TG9hZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBRW1CO0FBQ0k7QUFDVTtBQUVsQzs7Q0FFQyxHQUNELFNBQVNHO0lBQ1AsT0FBT0YsZ0RBQVMsQ0FBQ0ksUUFBUUMsR0FBRyxJQUFJLGdCQUFnQixRQUFRO0FBQzFEO0FBRUE7OztDQUdDLEdBQ00sU0FBU0M7SUFDZCxNQUFNQyxXQUFXTDtJQUNqQixNQUFNTSxlQUFlUixnREFBUyxDQUFDTyxVQUFVO0lBQ3pDLE1BQU1FLGFBQWFULGdEQUFTLENBQUNPLFVBQVU7SUFFdkMsSUFBSVIsb0RBQWEsQ0FBQ1MsZUFBZTtRQUMvQixPQUFPO0lBQ1QsT0FBTyxJQUFJVCxvREFBYSxDQUFDVSxhQUFhO1FBQ3BDLE9BQU87SUFDVCxPQUFPO1FBQ0wsTUFBTSxJQUFJRSxNQUFNO0lBQ2xCO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sZUFBZUMsUUFBUUMsUUFBUTtJQUNwQyxJQUFJO1FBQ0YsTUFBTUMsV0FBV2QsZ0RBQVMsQ0FBQ0UsZUFBZVc7UUFFMUMsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQ2Qsb0RBQWEsQ0FBQ2UsV0FBVztZQUM1QixNQUFNLElBQUlILE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRUUsU0FBUyxDQUFDO1FBQy9DO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU1FLGNBQWNoQixzREFBZSxDQUFDZSxVQUFVO1FBRTlDLFlBQVk7UUFDWixNQUFNRyxTQUFTaEIsZ0RBQUtBLENBQUNjLGFBQWE7WUFDaENHLFFBQVE7WUFDUkMsZ0JBQWdCO1lBQ2hCQyxpQkFBaUIsQ0FBQ0YsU0FBV0EsT0FBT0csSUFBSTtZQUN4Q0MsV0FBVyxDQUFDQyxPQUFPQztnQkFDakIsdURBQXVEO2dCQUN2RCxJQUFJRCxVQUFVLElBQUksT0FBTztnQkFFekIsNEJBQTRCO2dCQUM1QixJQUFJQyxVQUFVLE9BQU87b0JBQ25CLE9BQU9ELE1BQU1FLFFBQVE7Z0JBQ3ZCO2dCQUVBLDBDQUEwQztnQkFDMUMsSUFBSSxDQUFDQyxNQUFNSCxVQUFVQSxVQUFVLElBQUk7b0JBQ2pDLE9BQU9JLFdBQVdKO2dCQUNwQjtnQkFDQSxPQUFPQTtZQUNUO1FBQ0Y7UUFFQSxJQUFJTixPQUFPVyxNQUFNLENBQUNDLE1BQU0sR0FBRyxHQUFHO1lBQzVCQyxRQUFRQyxJQUFJLENBQUMsQ0FBQyx5QkFBeUIsRUFBRWxCLFNBQVMsQ0FBQyxDQUFDLEVBQUVJLE9BQU9XLE1BQU07UUFDckU7UUFFQSxPQUFPWCxPQUFPZSxJQUFJO0lBQ3BCLEVBQUUsT0FBT0MsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsQ0FBQyxrQkFBa0IsRUFBRXBCLFNBQVMsQ0FBQyxDQUFDLEVBQUVvQjtRQUNoRCxNQUFNQTtJQUNSO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sZUFBZUMsU0FBU3JCLFFBQVE7SUFDckMsSUFBSTtRQUNGLE1BQU1DLFdBQVdkLGdEQUFTLENBQUNFLGVBQWVXO1FBRTFDLHVCQUF1QjtRQUN2QixJQUFJLENBQUNkLG9EQUFhLENBQUNlLFdBQVc7WUFDNUIsTUFBTSxJQUFJSCxNQUFNLENBQUMsZ0JBQWdCLEVBQUVFLFNBQVMsQ0FBQztRQUMvQztRQUVBLHNCQUFzQjtRQUN0QixNQUFNRSxjQUFjaEIsc0RBQWUsQ0FBQ2UsVUFBVTtRQUM5QyxPQUFPcUIsS0FBS2xDLEtBQUssQ0FBQ2M7SUFDcEIsRUFBRSxPQUFPa0IsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsQ0FBQyxtQkFBbUIsRUFBRXBCLFNBQVMsQ0FBQyxDQUFDLEVBQUVvQjtRQUNqRCxNQUFNQTtJQUNSO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0csWUFBWUMsR0FBRztJQUM3QixJQUFJLENBQUNBLE9BQU8sT0FBT0EsUUFBUSxVQUFVO1FBQ25DLE9BQU87SUFDVDtJQUVBLGlDQUFpQztJQUNqQyxNQUFNQyxXQUFXO0lBQ2pCLE9BQU9BLFNBQVNDLElBQUksQ0FBQ0Y7QUFDdkI7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNHLHVCQUF1QkMsVUFBVSxFQUFFQyxVQUFVO0lBQzNELElBQUksQ0FBQ0QsY0FBYyxDQUFDQyxjQUFjRCxhQUFhLEtBQUtDLGFBQWEsR0FBRztRQUNsRSxPQUFPO0lBQ1Q7SUFFQSxPQUFPLGFBQWMsTUFBT0E7QUFDOUI7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0MsaUJBQWlCcEIsS0FBSztJQUNwQyxJQUFJLENBQUNBLFNBQVNBLFFBQVEsR0FBRyxPQUFPO0lBRWhDLElBQUlBLFNBQVMsTUFBTTtRQUNqQixPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUNBLFFBQVEsSUFBRyxFQUFHcUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLE9BQU8sSUFBSXJCLFNBQVMsS0FBSztRQUN2QixPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUNBLFFBQVEsR0FBRSxFQUFHcUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLE9BQU8sSUFBSXJCLFNBQVMsS0FBSztRQUN2QixPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUNBLFFBQVEsR0FBRSxFQUFHcUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLE9BQU8sSUFBSXJCLFNBQVMsS0FBSztRQUN2QixPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUNBLFFBQVEsR0FBRSxFQUFHcUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLE9BQU87UUFDTCxPQUFPLENBQUMsQ0FBQyxFQUFFckIsTUFBTXFCLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDL0I7QUFDRjtBQUVBOzs7O0NBSUMsR0FDTSxTQUFTQyxpQkFBaUJDLElBQUk7SUFDbkMsSUFBSSxDQUFDQSxRQUFRQSxPQUFPLEdBQUcsT0FBTztJQUM5QixPQUFPLENBQUMsRUFBRUEsS0FBS0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzlCO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNHLGVBQWVWLEdBQUc7SUFDaEMsSUFBSSxDQUFDQSxPQUFPQSxJQUFJUixNQUFNLEdBQUcsR0FBRyxPQUFPO0lBRW5DLE1BQU1tQixTQUFTWCxJQUFJWSxTQUFTLENBQUMsR0FBRztJQUNoQyxNQUFNQyxjQUFjO1FBQ2xCLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO1FBQ04sTUFBTTtJQUNSO0lBRUEsT0FBT0EsV0FBVyxDQUFDRixPQUFPLElBQUk7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXJpZmYtaW5zaWdodHMvLi9saWIvY3N2TG9hZGVyLmpzP2RiMWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDU1YgTG9hZGVyIFV0aWxpdHlcbiAqIFNoYXJlZCBmdW5jdGlvbnMgZm9yIHBhcnNpbmcgQ1NWIGZpbGVzIGFuZCBsb2FkaW5nIEpTT04gZGF0YVxuICovXG5cbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAncGFwYXBhcnNlJztcblxuLyoqXG4gKiBHZXQgdGhlIGFic29sdXRlIHBhdGggdG8gdGhlIGRhdGEvcHJvY2Vzc2VkIGRpcmVjdG9yeVxuICovXG5mdW5jdGlvbiBnZXREYXRhUGF0aCgpIHtcbiAgcmV0dXJuIHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YS1jdXJhdG9yJywgJ2RhdGEnLCAncHJvY2Vzc2VkJyk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgZXhwYW5kZWQgZGF0YXNldCBleGlzdHMgYW5kIGlzIG5ld2VyIHRoYW4gbWVyZ2VkIGRhdGFzZXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZpbGVuYW1lIHRvIHVzZSAoJ2V4cGFuZGVkX3N1bW1hcnkuY3N2JyBvciAnbWVyZ2VkX3N1bW1hcnkuY3N2JylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN1bW1hcnlGaWxlbmFtZSgpIHtcbiAgY29uc3QgZGF0YVBhdGggPSBnZXREYXRhUGF0aCgpO1xuICBjb25zdCBleHBhbmRlZEZpbGUgPSBwYXRoLmpvaW4oZGF0YVBhdGgsICdleHBhbmRlZF9zdW1tYXJ5LmNzdicpO1xuICBjb25zdCBtZXJnZWRGaWxlID0gcGF0aC5qb2luKGRhdGFQYXRoLCAnbWVyZ2VkX3N1bW1hcnkuY3N2Jyk7XG4gIFxuICBpZiAoZnMuZXhpc3RzU3luYyhleHBhbmRlZEZpbGUpKSB7XG4gICAgcmV0dXJuICdleHBhbmRlZF9zdW1tYXJ5LmNzdic7XG4gIH0gZWxzZSBpZiAoZnMuZXhpc3RzU3luYyhtZXJnZWRGaWxlKSkge1xuICAgIHJldHVybiAnbWVyZ2VkX3N1bW1hcnkuY3N2JztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHN1bW1hcnkgZGF0YXNldCBmb3VuZC4gUGxlYXNlIHJ1biB0aGUgZGF0YSBleHBhbnNpb24gc2NyaXB0LicpO1xuICB9XG59XG5cbi8qKlxuICogUGFyc2UgQ1NWIGZpbGUgYW5kIHJldHVybiBhcyBKU09OIGFycmF5XG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgLSBDU1YgZmlsZW5hbWUgaW4gZGF0YS9wcm9jZXNzZWQgZGlyZWN0b3J5XG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IFBhcnNlZCBDU1YgZGF0YSBhcyBKU09OIGFycmF5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQ1NWKGZpbGVuYW1lKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZ2V0RGF0YVBhdGgoKSwgZmlsZW5hbWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGZpbGUgZXhpc3RzXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlIG5vdCBmb3VuZDogJHtmaWxlbmFtZX1gKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVhZCBmaWxlIGNvbnRlbnRcbiAgICBjb25zdCBmaWxlQ29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0ZjgnKTtcbiAgICBcbiAgICAvLyBQYXJzZSBDU1ZcbiAgICBjb25zdCByZXN1bHQgPSBwYXJzZShmaWxlQ29udGVudCwge1xuICAgICAgaGVhZGVyOiB0cnVlLFxuICAgICAgc2tpcEVtcHR5TGluZXM6IHRydWUsXG4gICAgICB0cmFuc2Zvcm1IZWFkZXI6IChoZWFkZXIpID0+IGhlYWRlci50cmltKCksIC8vIFJlbW92ZSB3aGl0ZXNwYWNlIGZyb20gaGVhZGVyc1xuICAgICAgdHJhbnNmb3JtOiAodmFsdWUsIGZpZWxkKSA9PiB7XG4gICAgICAgIC8vIENvbnZlcnQgbnVtZXJpYyBzdHJpbmdzIHRvIG51bWJlcnMgd2hlcmUgYXBwcm9wcmlhdGVcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykgcmV0dXJuIG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBLZWVwIEhTNCBjb2RlcyBhcyBzdHJpbmdzXG4gICAgICAgIGlmIChmaWVsZCA9PT0gJ2hzNCcpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ29udmVydCBvdGhlciBudW1lcmljIGZpZWxkcyB0byBudW1iZXJzXG4gICAgICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSAnJykge1xuICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS53YXJuKGBDU1YgcGFyc2luZyB3YXJuaW5ncyBmb3IgJHtmaWxlbmFtZX06YCwgcmVzdWx0LmVycm9ycyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIENTViAke2ZpbGVuYW1lfTpgLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkIEpTT04gZmlsZSBhbmQgcmV0dXJuIHBhcnNlZCBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWUgLSBKU09OIGZpbGVuYW1lIGluIGRhdGEvcHJvY2Vzc2VkIGRpcmVjdG9yeVxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUGFyc2VkIEpTT04gZGF0YVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZEpTT04oZmlsZW5hbWUpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihnZXREYXRhUGF0aCgpLCBmaWxlbmFtZSk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZmlsZSBleGlzdHNcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpbGUgbm90IGZvdW5kOiAke2ZpbGVuYW1lfWApO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZWFkIGFuZCBwYXJzZSBKU09OXG4gICAgY29uc3QgZmlsZUNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4Jyk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZmlsZUNvbnRlbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgSlNPTiAke2ZpbGVuYW1lfTpgLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBIUzQgY29kZSBmb3JtYXQgKDQgZGlnaXRzKVxuICogQHBhcmFtIHtzdHJpbmd9IGhzNCAtIEhTNCBjb2RlIHRvIHZhbGlkYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWxpZCBIUzQgZm9ybWF0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUhTNChoczQpIHtcbiAgaWYgKCFoczQgfHwgdHlwZW9mIGhzNCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIC8vIENoZWNrIGlmIGl0J3MgZXhhY3RseSA0IGRpZ2l0c1xuICBjb25zdCBoczRSZWdleCA9IC9eXFxkezR9JC87XG4gIHJldHVybiBoczRSZWdleC50ZXN0KGhzNCk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRhcmlmZiByZXZlbnVlIGVzdGltYXRlXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyaWZmUmF0ZSAtIFRhcmlmZiByYXRlIGFzIHBlcmNlbnRhZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSB0cmFkZVZhbHVlIC0gVHJhZGUgdmFsdWUgaW4gVVNEXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBFc3RpbWF0ZWQgdGFyaWZmIHJldmVudWUgaW4gVVNEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUYXJpZmZSZXZlbnVlKHRhcmlmZlJhdGUsIHRyYWRlVmFsdWUpIHtcbiAgaWYgKCF0YXJpZmZSYXRlIHx8ICF0cmFkZVZhbHVlIHx8IHRhcmlmZlJhdGUgPCAwIHx8IHRyYWRlVmFsdWUgPCAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgXG4gIHJldHVybiAodGFyaWZmUmF0ZSAvIDEwMCkgKiB0cmFkZVZhbHVlO1xufVxuXG4vKipcbiAqIEZvcm1hdCB0cmFkZSB2YWx1ZSBmb3IgZGlzcGxheVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVHJhZGUgdmFsdWUgaW4gVVNEXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgdmFsdWUgKGUuZy4sIFwiMS4yQlwiLCBcIjUwME1cIilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFRyYWRlVmFsdWUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA8IDApIHJldHVybiAnJDAnO1xuICBcbiAgaWYgKHZhbHVlID49IDFlMTIpIHtcbiAgICByZXR1cm4gYCQkeyh2YWx1ZSAvIDFlMTIpLnRvRml4ZWQoMSl9VGA7XG4gIH0gZWxzZSBpZiAodmFsdWUgPj0gMWU5KSB7XG4gICAgcmV0dXJuIGAkJHsodmFsdWUgLyAxZTkpLnRvRml4ZWQoMSl9QmA7XG4gIH0gZWxzZSBpZiAodmFsdWUgPj0gMWU2KSB7XG4gICAgcmV0dXJuIGAkJHsodmFsdWUgLyAxZTYpLnRvRml4ZWQoMSl9TWA7XG4gIH0gZWxzZSBpZiAodmFsdWUgPj0gMWUzKSB7XG4gICAgcmV0dXJuIGAkJHsodmFsdWUgLyAxZTMpLnRvRml4ZWQoMSl9S2A7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAkJHt2YWx1ZS50b0ZpeGVkKDApfWA7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3JtYXQgdGFyaWZmIHJhdGUgZm9yIGRpc3BsYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSByYXRlIC0gVGFyaWZmIHJhdGUgYXMgcGVyY2VudGFnZVxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIHJhdGUgKGUuZy4sIFwiNS4yJVwiKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VGFyaWZmUmF0ZShyYXRlKSB7XG4gIGlmICghcmF0ZSB8fCByYXRlIDwgMCkgcmV0dXJuICcwJSc7XG4gIHJldHVybiBgJHtyYXRlLnRvRml4ZWQoMil9JWA7XG59XG5cbi8qKlxuICogR2V0IEhTNCBjYXRlZ29yeSBkZXNjcmlwdGlvbiBmcm9tIDItZGlnaXQgcHJlZml4XG4gKiBAcGFyYW0ge3N0cmluZ30gaHM0IC0gNC1kaWdpdCBIUzQgY29kZVxuICogQHJldHVybnMge3N0cmluZ30gQ2F0ZWdvcnkgZGVzY3JpcHRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhTNENhdGVnb3J5KGhzNCkge1xuICBpZiAoIWhzNCB8fCBoczQubGVuZ3RoIDwgMikgcmV0dXJuICdVbmtub3duJztcbiAgXG4gIGNvbnN0IHByZWZpeCA9IGhzNC5zdWJzdHJpbmcoMCwgMik7XG4gIGNvbnN0IGNhdGVnb3J5TWFwID0ge1xuICAgICcwMSc6ICdMaXZlIGFuaW1hbHMgJiBhbmltYWwgcHJvZHVjdHMnLFxuICAgICcwMic6ICdNZWF0IGFuZCBlZGlibGUgbWVhdCBvZmZhbCcsXG4gICAgJzAzJzogJ0Zpc2ggYW5kIGNydXN0YWNlYW5zJyxcbiAgICAnMDQnOiAnRGFpcnkgcHJvZHVjdHMnLFxuICAgICcwNSc6ICdQcm9kdWN0cyBvZiBhbmltYWwgb3JpZ2luJyxcbiAgICAnMDYnOiAnTGl2ZSB0cmVlcyBhbmQgcGxhbnRzJyxcbiAgICAnMDcnOiAnRWRpYmxlIHZlZ2V0YWJsZXMnLFxuICAgICcwOCc6ICdFZGlibGUgZnJ1aXRzIGFuZCBudXRzJyxcbiAgICAnMDknOiAnQ29mZmVlLCB0ZWEsIG1hdGUgYW5kIHNwaWNlcycsXG4gICAgJzEwJzogJ0NlcmVhbHMnLFxuICAgICcxMSc6ICdQcm9kdWN0cyBvZiB0aGUgbWlsbGluZyBpbmR1c3RyeScsXG4gICAgJzEyJzogJ09pbCBzZWVkcyBhbmQgb2xlYWdpbm91cyBmcnVpdHMnLFxuICAgICcxMyc6ICdMYWM7IGd1bXMsIHJlc2lucyBhbmQgb3RoZXIgdmVnZXRhYmxlIHNhcHMnLFxuICAgICcxNCc6ICdWZWdldGFibGUgcGxhaXRpbmcgbWF0ZXJpYWxzJyxcbiAgICAnMTUnOiAnQW5pbWFsIG9yIHZlZ2V0YWJsZSBmYXRzIGFuZCBvaWxzJyxcbiAgICAnMTYnOiAnUHJlcGFyYXRpb25zIG9mIG1lYXQsIGZpc2ggb3IgY3J1c3RhY2VhbnMnLFxuICAgICcxNyc6ICdTdWdhcnMgYW5kIHN1Z2FyIGNvbmZlY3Rpb25lcnknLFxuICAgICcxOCc6ICdDb2NvYSBhbmQgY29jb2EgcHJlcGFyYXRpb25zJyxcbiAgICAnMTknOiAnUHJlcGFyYXRpb25zIG9mIGNlcmVhbHMsIGZsb3VyLCBzdGFyY2ggb3IgbWlsaycsXG4gICAgJzIwJzogJ1ByZXBhcmF0aW9ucyBvZiB2ZWdldGFibGVzLCBmcnVpdCwgbnV0cycsXG4gICAgJzIxJzogJ01pc2NlbGxhbmVvdXMgZWRpYmxlIHByZXBhcmF0aW9ucycsXG4gICAgJzIyJzogJ0JldmVyYWdlcywgc3Bpcml0cyBhbmQgdmluZWdhcicsXG4gICAgJzIzJzogJ1Jlc2lkdWVzIGFuZCB3YXN0ZXMgZnJvbSB0aGUgZm9vZCBpbmR1c3RyaWVzJyxcbiAgICAnMjQnOiAnVG9iYWNjbyBhbmQgbWFudWZhY3R1cmVkIHRvYmFjY28gc3Vic3RpdHV0ZXMnLFxuICAgICcyNSc6ICdTYWx0OyBzdWxwaHVyOyBlYXJ0aHMgYW5kIHN0b25lJyxcbiAgICAnMjYnOiAnT3Jlcywgc2xhZyBhbmQgYXNoJyxcbiAgICAnMjcnOiAnTWluZXJhbCBmdWVscywgbWluZXJhbCBvaWxzJyxcbiAgICAnMjgnOiAnSW5vcmdhbmljIGNoZW1pY2FscycsXG4gICAgJzI5JzogJ09yZ2FuaWMgY2hlbWljYWxzJyxcbiAgICAnMzAnOiAnUGhhcm1hY2V1dGljYWwgcHJvZHVjdHMnLFxuICAgICczMSc6ICdGZXJ0aWxpc2VycycsXG4gICAgJzMyJzogJ1Rhbm5pbmcgb3IgZHllaW5nIGV4dHJhY3RzJyxcbiAgICAnMzMnOiAnRXNzZW50aWFsIG9pbHMgYW5kIHJlc2lub2lkcycsXG4gICAgJzM0JzogJ1NvYXAsIG9yZ2FuaWMgc3VyZmFjZS1hY3RpdmUgYWdlbnRzJyxcbiAgICAnMzUnOiAnQWxidW1pbm9pZGFsIHN1YnN0YW5jZXMnLFxuICAgICczNic6ICdFeHBsb3NpdmVzOyBweXJvdGVjaG5pYyBwcm9kdWN0cycsXG4gICAgJzM3JzogJ1Bob3RvZ3JhcGhpYyBvciBjaW5lbWF0b2dyYXBoaWMgZ29vZHMnLFxuICAgICczOCc6ICdNaXNjZWxsYW5lb3VzIGNoZW1pY2FsIHByb2R1Y3RzJyxcbiAgICAnMzknOiAnUGxhc3RpY3MgYW5kIGFydGljbGVzIHRoZXJlb2YnLFxuICAgICc0MCc6ICdSdWJiZXIgYW5kIGFydGljbGVzIHRoZXJlb2YnLFxuICAgICc0MSc6ICdSYXcgaGlkZXMgYW5kIHNraW5zJyxcbiAgICAnNDInOiAnQXJ0aWNsZXMgb2YgbGVhdGhlcicsXG4gICAgJzQzJzogJ0Z1cnNraW5zIGFuZCBhcnRpZmljaWFsIGZ1cicsXG4gICAgJzQ0JzogJ1dvb2QgYW5kIGFydGljbGVzIG9mIHdvb2QnLFxuICAgICc0NSc6ICdDb3JrIGFuZCBhcnRpY2xlcyBvZiBjb3JrJyxcbiAgICAnNDYnOiAnTWFudWZhY3R1cmVzIG9mIHN0cmF3JyxcbiAgICAnNDcnOiAnUHVscCBvZiB3b29kIG9yIG9mIG90aGVyIGZpYnJvdXMgY2VsbHVsb3NpYyBtYXRlcmlhbCcsXG4gICAgJzQ4JzogJ1BhcGVyIGFuZCBwYXBlcmJvYXJkJyxcbiAgICAnNDknOiAnUHJpbnRlZCBib29rcywgbmV3c3BhcGVycywgcGljdHVyZXMnLFxuICAgICc1MCc6ICdTaWxrJyxcbiAgICAnNTEnOiAnV29vbCwgZmluZSBvciBjb2Fyc2UgYW5pbWFsIGhhaXInLFxuICAgICc1Mic6ICdDb3R0b24nLFxuICAgICc1Myc6ICdPdGhlciB2ZWdldGFibGUgdGV4dGlsZSBmaWJyZXMnLFxuICAgICc1NCc6ICdNYW4tbWFkZSBmaWxhbWVudHMnLFxuICAgICc1NSc6ICdNYW4tbWFkZSBzdGFwbGUgZmlicmVzJyxcbiAgICAnNTYnOiAnV2FkZGluZywgZmVsdCBhbmQgbm9ud292ZW5zJyxcbiAgICAnNTcnOiAnQ2FycGV0cyBhbmQgb3RoZXIgdGV4dGlsZSBmbG9vciBjb3ZlcmluZ3MnLFxuICAgICc1OCc6ICdTcGVjaWFsIHdvdmVuIGZhYnJpY3MnLFxuICAgICc1OSc6ICdJbXByZWduYXRlZCwgY29hdGVkLCBjb3ZlcmVkIG9yIGxhbWluYXRlZCB0ZXh0aWxlIGZhYnJpY3MnLFxuICAgICc2MCc6ICdLbml0dGVkIG9yIGNyb2NoZXRlZCBmYWJyaWNzJyxcbiAgICAnNjEnOiAnQXJ0aWNsZXMgb2YgYXBwYXJlbCBhbmQgY2xvdGhpbmcgYWNjZXNzb3JpZXMnLFxuICAgICc2Mic6ICdBcnRpY2xlcyBvZiBhcHBhcmVsIGFuZCBjbG90aGluZyBhY2Nlc3NvcmllcycsXG4gICAgJzYzJzogJ090aGVyIG1hZGUgdXAgdGV4dGlsZSBhcnRpY2xlcycsXG4gICAgJzY0JzogJ0Zvb3R3ZWFyLCBnYWl0ZXJzIGFuZCB0aGUgbGlrZScsXG4gICAgJzY1JzogJ0hlYWRnZWFyIGFuZCBwYXJ0cyB0aGVyZW9mJyxcbiAgICAnNjYnOiAnVW1icmVsbGFzLCBzdW4gdW1icmVsbGFzLCB3YWxraW5nIHN0aWNrcycsXG4gICAgJzY3JzogJ1ByZXBhcmVkIGZlYXRoZXJzIGFuZCBkb3duJyxcbiAgICAnNjgnOiAnQXJ0aWNsZXMgb2Ygc3RvbmUsIHBsYXN0ZXIsIGNlbWVudCwgYXNiZXN0b3MnLFxuICAgICc2OSc6ICdDZXJhbWljIHByb2R1Y3RzJyxcbiAgICAnNzAnOiAnR2xhc3MgYW5kIGdsYXNzd2FyZScsXG4gICAgJzcxJzogJ05hdHVyYWwgb3IgY3VsdHVyZWQgcGVhcmxzLCBwcmVjaW91cyBzdG9uZXMnLFxuICAgICc3Mic6ICdJcm9uIGFuZCBzdGVlbCcsXG4gICAgJzczJzogJ0FydGljbGVzIG9mIGlyb24gb3Igc3RlZWwnLFxuICAgICc3NCc6ICdDb3BwZXIgYW5kIGFydGljbGVzIHRoZXJlb2YnLFxuICAgICc3NSc6ICdOaWNrZWwgYW5kIGFydGljbGVzIHRoZXJlb2YnLFxuICAgICc3Nic6ICdBbHVtaW5pdW0gYW5kIGFydGljbGVzIHRoZXJlb2YnLFxuICAgICc3OCc6ICdMZWFkIGFuZCBhcnRpY2xlcyB0aGVyZW9mJyxcbiAgICAnNzknOiAnWmluYyBhbmQgYXJ0aWNsZXMgdGhlcmVvZicsXG4gICAgJzgwJzogJ1RpbiBhbmQgYXJ0aWNsZXMgdGhlcmVvZicsXG4gICAgJzgxJzogJ090aGVyIGJhc2UgbWV0YWxzJyxcbiAgICAnODInOiAnVG9vbHMsIGltcGxlbWVudHMsIGN1dGxlcnksIHNwb29ucyBhbmQgZm9ya3MnLFxuICAgICc4Myc6ICdNaXNjZWxsYW5lb3VzIGFydGljbGVzIG9mIGJhc2UgbWV0YWwnLFxuICAgICc4NCc6ICdOdWNsZWFyIHJlYWN0b3JzLCBib2lsZXJzLCBtYWNoaW5lcnknLFxuICAgICc4NSc6ICdFbGVjdHJpY2FsIG1hY2hpbmVyeSBhbmQgZXF1aXBtZW50JyxcbiAgICAnODYnOiAnUmFpbHdheSBvciB0cmFtd2F5IGxvY29tb3RpdmVzJyxcbiAgICAnODcnOiAnVmVoaWNsZXMgb3RoZXIgdGhhbiByYWlsd2F5IG9yIHRyYW13YXkgcm9sbGluZyBzdG9jaycsXG4gICAgJzg4JzogJ0FpcmNyYWZ0LCBzcGFjZWNyYWZ0LCBhbmQgcGFydHMgdGhlcmVvZicsXG4gICAgJzg5JzogJ1NoaXBzLCBib2F0cyBhbmQgZmxvYXRpbmcgc3RydWN0dXJlcycsXG4gICAgJzkwJzogJ09wdGljYWwsIHBob3RvZ3JhcGhpYywgY2luZW1hdG9ncmFwaGljLCBtZWFzdXJpbmcnLFxuICAgICc5MSc6ICdDbG9ja3MgYW5kIHdhdGNoZXMgYW5kIHBhcnRzIHRoZXJlb2YnLFxuICAgICc5Mic6ICdNdXNpY2FsIGluc3RydW1lbnRzJyxcbiAgICAnOTMnOiAnQXJtcyBhbmQgYW1tdW5pdGlvbicsXG4gICAgJzk0JzogJ0Z1cm5pdHVyZTsgYmVkZGluZywgbWF0dHJlc3NlcycsXG4gICAgJzk1JzogJ1RveXMsIGdhbWVzIGFuZCBzcG9ydHMgcmVxdWlzaXRlcycsXG4gICAgJzk2JzogJ01pc2NlbGxhbmVvdXMgbWFudWZhY3R1cmVkIGFydGljbGVzJyxcbiAgICAnOTcnOiAnV29ya3Mgb2YgYXJ0LCBjb2xsZWN0b3JzXFwnIHBpZWNlcyBhbmQgYW50aXF1ZXMnXG4gIH07XG4gIFxuICByZXR1cm4gY2F0ZWdvcnlNYXBbcHJlZml4XSB8fCAnT3RoZXIgcHJvZHVjdHMnO1xufVxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsInBhcnNlIiwiZ2V0RGF0YVBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImdldFN1bW1hcnlGaWxlbmFtZSIsImRhdGFQYXRoIiwiZXhwYW5kZWRGaWxlIiwibWVyZ2VkRmlsZSIsImV4aXN0c1N5bmMiLCJFcnJvciIsImxvYWRDU1YiLCJmaWxlbmFtZSIsImZpbGVQYXRoIiwiZmlsZUNvbnRlbnQiLCJyZWFkRmlsZVN5bmMiLCJyZXN1bHQiLCJoZWFkZXIiLCJza2lwRW1wdHlMaW5lcyIsInRyYW5zZm9ybUhlYWRlciIsInRyaW0iLCJ0cmFuc2Zvcm0iLCJ2YWx1ZSIsImZpZWxkIiwidG9TdHJpbmciLCJpc05hTiIsInBhcnNlRmxvYXQiLCJlcnJvcnMiLCJsZW5ndGgiLCJjb25zb2xlIiwid2FybiIsImRhdGEiLCJlcnJvciIsImxvYWRKU09OIiwiSlNPTiIsInZhbGlkYXRlSFM0IiwiaHM0IiwiaHM0UmVnZXgiLCJ0ZXN0IiwiY2FsY3VsYXRlVGFyaWZmUmV2ZW51ZSIsInRhcmlmZlJhdGUiLCJ0cmFkZVZhbHVlIiwiZm9ybWF0VHJhZGVWYWx1ZSIsInRvRml4ZWQiLCJmb3JtYXRUYXJpZmZSYXRlIiwicmF0ZSIsImdldEhTNENhdGVnb3J5IiwicHJlZml4Iiwic3Vic3RyaW5nIiwiY2F0ZWdvcnlNYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/csvLoader.js\n");

/***/ }),

/***/ "(api)/./pages/api/summary/[hs4].js":
/*!************************************!*\
  !*** ./pages/api/summary/[hs4].js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/csvLoader */ \"(api)/./lib/csvLoader.js\");\n/**\n * GET /api/summary/[hs4]\n * Returns a single product row by HS4 code\n * \n * Parameters:\n * - hs4: 4-digit HS4 product code (e.g., \"2709\")\n * \n * Response format:\n * {\n *   status: \"success\",\n *   data: {\n *     hs4: string,\n *     simple_average: number,\n *     trade_value_total: number,\n *     tariff_revenue_estimate: number,\n *     // ... all other fields from CSV\n *   }\n * }\n */ \nasync function handler(req, res) {\n    // Only allow GET requests\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            status: \"error\",\n            message: \"Method not allowed. Use GET.\"\n        });\n    }\n    const { hs4 } = req.query;\n    // Validate HS4 parameter\n    if (!hs4) {\n        return res.status(400).json({\n            status: \"error\",\n            message: \"HS4 parameter is required\"\n        });\n    }\n    if (!(0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.validateHS4)(hs4)) {\n        return res.status(400).json({\n            status: \"error\",\n            message: 'Invalid HS4 format. Must be 4 digits (e.g., \"2709\")'\n        });\n    }\n    try {\n        // Load the summary data (expanded or merged)\n        const filename = (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.getSummaryFilename)();\n        const data = await (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.loadCSV)(filename);\n        // Find the product by HS4 code\n        const product = data.find((row)=>row.hs4 === hs4);\n        if (!product) {\n            return res.status(404).json({\n                status: \"error\",\n                message: `Product with HS4 code \"${hs4}\" not found`,\n                availableHs4Codes: data.slice(0, 10).map((row)=>row.hs4) // Show first 10 for reference\n            });\n        }\n        // Calculate tariff revenue estimate\n        const tariffRevenueEstimate = (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.calculateTariffRevenue)(product.simple_average, product.trade_value_total);\n        // Enrich the product data with computed fields\n        const enrichedProduct = {\n            ...product,\n            tariff_revenue_estimate: tariffRevenueEstimate,\n            trade_value_formatted: (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.formatTradeValue)(product.trade_value_total),\n            tariff_rate_formatted: (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.formatTariffRate)(product.simple_average),\n            tariff_revenue_formatted: (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.formatTradeValue)(tariffRevenueEstimate),\n            category: (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.getHS4Category)(hs4),\n            category_code: hs4.substring(0, 2)\n        };\n        // Return successful response\n        res.status(200).json({\n            status: \"success\",\n            data: enrichedProduct,\n            meta: {\n                hs4: hs4,\n                category: (0,_lib_csvLoader__WEBPACK_IMPORTED_MODULE_0__.getHS4Category)(hs4),\n                dataYear: {\n                    tariff: product.year_x || \"N/A\",\n                    trade: product.year_y || \"N/A\"\n                }\n            }\n        });\n    } catch (error) {\n        console.error(`Error in /api/summary/${hs4}:`, error);\n        res.status(500).json({\n            status: \"error\",\n            message: \"Failed to load product data\",\n            details:  true ? error.message : 0\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc3VtbWFyeS9baHM0XS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrQkMsR0FFNko7QUFFL0ksZUFBZU8sUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLDBCQUEwQjtJQUMxQixJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCRCxRQUFRO1lBQ1JFLFNBQVM7UUFDWDtJQUNGO0lBRUEsTUFBTSxFQUFFQyxHQUFHLEVBQUUsR0FBR04sSUFBSU8sS0FBSztJQUV6Qix5QkFBeUI7SUFDekIsSUFBSSxDQUFDRCxLQUFLO1FBQ1IsT0FBT0wsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkQsUUFBUTtZQUNSRSxTQUFTO1FBQ1g7SUFDRjtJQUVBLElBQUksQ0FBQ1gsMkRBQVdBLENBQUNZLE1BQU07UUFDckIsT0FBT0wsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkQsUUFBUTtZQUNSRSxTQUFTO1FBQ1g7SUFDRjtJQUVBLElBQUk7UUFDRiw2Q0FBNkM7UUFDN0MsTUFBTUcsV0FBV2Ysa0VBQWtCQTtRQUNuQyxNQUFNZ0IsT0FBTyxNQUFNakIsdURBQU9BLENBQUNnQjtRQUUzQiwrQkFBK0I7UUFDL0IsTUFBTUUsVUFBVUQsS0FBS0UsSUFBSSxDQUFDQyxDQUFBQSxNQUFPQSxJQUFJTixHQUFHLEtBQUtBO1FBRTdDLElBQUksQ0FBQ0ksU0FBUztZQUNaLE9BQU9ULElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQzFCRCxRQUFRO2dCQUNSRSxTQUFTLENBQUMsdUJBQXVCLEVBQUVDLElBQUksV0FBVyxDQUFDO2dCQUNuRE8sbUJBQW1CSixLQUFLSyxLQUFLLENBQUMsR0FBRyxJQUFJQyxHQUFHLENBQUNILENBQUFBLE1BQU9BLElBQUlOLEdBQUcsRUFBRSw4QkFBOEI7WUFDekY7UUFDRjtRQUVBLG9DQUFvQztRQUNwQyxNQUFNVSx3QkFBd0JyQixzRUFBc0JBLENBQUNlLFFBQVFPLGNBQWMsRUFBRVAsUUFBUVEsaUJBQWlCO1FBRXRHLCtDQUErQztRQUMvQyxNQUFNQyxrQkFBa0I7WUFDdEIsR0FBR1QsT0FBTztZQUNWVSx5QkFBeUJKO1lBQ3pCSyx1QkFBdUJ6QixnRUFBZ0JBLENBQUNjLFFBQVFRLGlCQUFpQjtZQUNqRUksdUJBQXVCekIsZ0VBQWdCQSxDQUFDYSxRQUFRTyxjQUFjO1lBQzlETSwwQkFBMEIzQixnRUFBZ0JBLENBQUNvQjtZQUMzQ1EsVUFBVTFCLDhEQUFjQSxDQUFDUTtZQUN6Qm1CLGVBQWVuQixJQUFJb0IsU0FBUyxDQUFDLEdBQUc7UUFDbEM7UUFFQSw2QkFBNkI7UUFDN0J6QixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ25CRCxRQUFRO1lBQ1JNLE1BQU1VO1lBQ05RLE1BQU07Z0JBQ0pyQixLQUFLQTtnQkFDTGtCLFVBQVUxQiw4REFBY0EsQ0FBQ1E7Z0JBQ3pCc0IsVUFBVTtvQkFDUkMsUUFBUW5CLFFBQVFvQixNQUFNLElBQUk7b0JBQzFCQyxPQUFPckIsUUFBUXNCLE1BQU0sSUFBSTtnQkFDM0I7WUFDRjtRQUNGO0lBRUYsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxDQUFDLHNCQUFzQixFQUFFM0IsSUFBSSxDQUFDLENBQUMsRUFBRTJCO1FBRS9DaEMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQkQsUUFBUTtZQUNSRSxTQUFTO1lBQ1Q4QixTQUFTQyxLQUF5QixHQUFnQkgsTUFBTTVCLE9BQU8sR0FBR2dDLENBQVNBO1FBQzdFO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3RhcmlmZi1pbnNpZ2h0cy8uL3BhZ2VzL2FwaS9zdW1tYXJ5L1toczRdLmpzPzIwYzciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHRVQgL2FwaS9zdW1tYXJ5L1toczRdXG4gKiBSZXR1cm5zIGEgc2luZ2xlIHByb2R1Y3Qgcm93IGJ5IEhTNCBjb2RlXG4gKiBcbiAqIFBhcmFtZXRlcnM6XG4gKiAtIGhzNDogNC1kaWdpdCBIUzQgcHJvZHVjdCBjb2RlIChlLmcuLCBcIjI3MDlcIilcbiAqIFxuICogUmVzcG9uc2UgZm9ybWF0OlxuICoge1xuICogICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICogICBkYXRhOiB7XG4gKiAgICAgaHM0OiBzdHJpbmcsXG4gKiAgICAgc2ltcGxlX2F2ZXJhZ2U6IG51bWJlcixcbiAqICAgICB0cmFkZV92YWx1ZV90b3RhbDogbnVtYmVyLFxuICogICAgIHRhcmlmZl9yZXZlbnVlX2VzdGltYXRlOiBudW1iZXIsXG4gKiAgICAgLy8gLi4uIGFsbCBvdGhlciBmaWVsZHMgZnJvbSBDU1ZcbiAqICAgfVxuICogfVxuICovXG5cbmltcG9ydCB7IGxvYWRDU1YsIGdldFN1bW1hcnlGaWxlbmFtZSwgdmFsaWRhdGVIUzQsIGNhbGN1bGF0ZVRhcmlmZlJldmVudWUsIGZvcm1hdFRyYWRlVmFsdWUsIGZvcm1hdFRhcmlmZlJhdGUsIGdldEhTNENhdGVnb3J5IH0gZnJvbSAnLi4vLi4vLi4vbGliL2NzdkxvYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgLy8gT25seSBhbGxvdyBHRVQgcmVxdWVzdHNcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHtcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQuIFVzZSBHRVQuJ1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgeyBoczQgfSA9IHJlcS5xdWVyeTtcblxuICAvLyBWYWxpZGF0ZSBIUzQgcGFyYW1ldGVyXG4gIGlmICghaHM0KSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdIUzQgcGFyYW1ldGVyIGlzIHJlcXVpcmVkJ1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKCF2YWxpZGF0ZUhTNChoczQpKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIEhTNCBmb3JtYXQuIE11c3QgYmUgNCBkaWdpdHMgKGUuZy4sIFwiMjcwOVwiKSdcbiAgICB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gTG9hZCB0aGUgc3VtbWFyeSBkYXRhIChleHBhbmRlZCBvciBtZXJnZWQpXG4gICAgY29uc3QgZmlsZW5hbWUgPSBnZXRTdW1tYXJ5RmlsZW5hbWUoKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgbG9hZENTVihmaWxlbmFtZSk7XG4gICAgXG4gICAgLy8gRmluZCB0aGUgcHJvZHVjdCBieSBIUzQgY29kZVxuICAgIGNvbnN0IHByb2R1Y3QgPSBkYXRhLmZpbmQocm93ID0+IHJvdy5oczQgPT09IGhzNCk7XG4gICAgXG4gICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGBQcm9kdWN0IHdpdGggSFM0IGNvZGUgXCIke2hzNH1cIiBub3QgZm91bmRgLFxuICAgICAgICBhdmFpbGFibGVIczRDb2RlczogZGF0YS5zbGljZSgwLCAxMCkubWFwKHJvdyA9PiByb3cuaHM0KSAvLyBTaG93IGZpcnN0IDEwIGZvciByZWZlcmVuY2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0YXJpZmYgcmV2ZW51ZSBlc3RpbWF0ZVxuICAgIGNvbnN0IHRhcmlmZlJldmVudWVFc3RpbWF0ZSA9IGNhbGN1bGF0ZVRhcmlmZlJldmVudWUocHJvZHVjdC5zaW1wbGVfYXZlcmFnZSwgcHJvZHVjdC50cmFkZV92YWx1ZV90b3RhbCk7XG5cbiAgICAvLyBFbnJpY2ggdGhlIHByb2R1Y3QgZGF0YSB3aXRoIGNvbXB1dGVkIGZpZWxkc1xuICAgIGNvbnN0IGVucmljaGVkUHJvZHVjdCA9IHtcbiAgICAgIC4uLnByb2R1Y3QsXG4gICAgICB0YXJpZmZfcmV2ZW51ZV9lc3RpbWF0ZTogdGFyaWZmUmV2ZW51ZUVzdGltYXRlLFxuICAgICAgdHJhZGVfdmFsdWVfZm9ybWF0dGVkOiBmb3JtYXRUcmFkZVZhbHVlKHByb2R1Y3QudHJhZGVfdmFsdWVfdG90YWwpLFxuICAgICAgdGFyaWZmX3JhdGVfZm9ybWF0dGVkOiBmb3JtYXRUYXJpZmZSYXRlKHByb2R1Y3Quc2ltcGxlX2F2ZXJhZ2UpLFxuICAgICAgdGFyaWZmX3JldmVudWVfZm9ybWF0dGVkOiBmb3JtYXRUcmFkZVZhbHVlKHRhcmlmZlJldmVudWVFc3RpbWF0ZSksXG4gICAgICBjYXRlZ29yeTogZ2V0SFM0Q2F0ZWdvcnkoaHM0KSxcbiAgICAgIGNhdGVnb3J5X2NvZGU6IGhzNC5zdWJzdHJpbmcoMCwgMilcbiAgICB9O1xuXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgIGRhdGE6IGVucmljaGVkUHJvZHVjdCxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgaHM0OiBoczQsXG4gICAgICAgIGNhdGVnb3J5OiBnZXRIUzRDYXRlZ29yeShoczQpLFxuICAgICAgICBkYXRhWWVhcjoge1xuICAgICAgICAgIHRhcmlmZjogcHJvZHVjdC55ZWFyX3ggfHwgJ04vQScsXG4gICAgICAgICAgdHJhZGU6IHByb2R1Y3QueWVhcl95IHx8ICdOL0EnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIC9hcGkvc3VtbWFyeS8ke2hzNH06YCwgZXJyb3IpO1xuICAgIFxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gbG9hZCBwcm9kdWN0IGRhdGEnLFxuICAgICAgZGV0YWlsczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvci5tZXNzYWdlIDogdW5kZWZpbmVkXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJsb2FkQ1NWIiwiZ2V0U3VtbWFyeUZpbGVuYW1lIiwidmFsaWRhdGVIUzQiLCJjYWxjdWxhdGVUYXJpZmZSZXZlbnVlIiwiZm9ybWF0VHJhZGVWYWx1ZSIsImZvcm1hdFRhcmlmZlJhdGUiLCJnZXRIUzRDYXRlZ29yeSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImhzNCIsInF1ZXJ5IiwiZmlsZW5hbWUiLCJkYXRhIiwicHJvZHVjdCIsImZpbmQiLCJyb3ciLCJhdmFpbGFibGVIczRDb2RlcyIsInNsaWNlIiwibWFwIiwidGFyaWZmUmV2ZW51ZUVzdGltYXRlIiwic2ltcGxlX2F2ZXJhZ2UiLCJ0cmFkZV92YWx1ZV90b3RhbCIsImVucmljaGVkUHJvZHVjdCIsInRhcmlmZl9yZXZlbnVlX2VzdGltYXRlIiwidHJhZGVfdmFsdWVfZm9ybWF0dGVkIiwidGFyaWZmX3JhdGVfZm9ybWF0dGVkIiwidGFyaWZmX3JldmVudWVfZm9ybWF0dGVkIiwiY2F0ZWdvcnkiLCJjYXRlZ29yeV9jb2RlIiwic3Vic3RyaW5nIiwibWV0YSIsImRhdGFZZWFyIiwidGFyaWZmIiwieWVhcl94IiwidHJhZGUiLCJ5ZWFyX3kiLCJlcnJvciIsImNvbnNvbGUiLCJkZXRhaWxzIiwicHJvY2VzcyIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/summary/[hs4].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsummary%2F%5Bhs4%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fsummary%2F%5Bhs4%5D.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();